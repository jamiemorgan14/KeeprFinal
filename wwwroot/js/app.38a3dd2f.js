(function(e){function t(t){for(var s,r,n=t[0],l=t[1],c=t[2],u=0,p=[];u<n.length;u++)r=n[u],i[r]&&p.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,n=1;n<a.length;n++){var l=a[n];0!==i[l]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},i={app:0},o=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"019f":function(e,t,a){},"034f":function(e,t,a){"use strict";var s=a("c21b"),i=a.n(s);i.a},"0d0c":function(e,t,a){"use strict";var s=a("e4cc"),i=a.n(s);i.a},"0e6a":function(e,t,a){"use strict";var s=a("d2ab"),i=a.n(s);i.a},"16d8":function(e,t,a){"use strict";var s=a("ca19"),i=a.n(s);i.a},"30d8":function(e,t,a){},"438b":function(e,t,a){},"494f":function(e,t,a){"use strict";var s=a("8444"),i=a.n(s);i.a},"4ac1":function(e,t,a){"use strict";var s=a("30d8"),i=a.n(s);i.a},"4fdd":function(e,t,a){"use strict";var s=a("438b"),i=a.n(s);i.a},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],r=(a("034f"),a("2877")),n={},l=Object(r["a"])(n,i,o,!1,null,null,null);l.options.__file="App.vue";var c=l.exports,d=a("8c4f"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("navbar"),a("div",{staticClass:"container"},[a("h1",{staticClass:"welcome my-3 text-capitalize"},[e._v("Welcome Home "+e._s(e.user.username))]),a("div",{staticClass:"row",on:{mouseover:function(t){e.clickableCard=!0},mouseleave:function(t){e.clickableCard=!1}}},[a("div",{staticClass:"card-columns"},e._l(e.keeps,function(t){return a("div",{staticClass:"card w-100",class:{"clickable-card":e.clickableCard},on:{click:function(a){e.viewKeep(t)}}},[a("img",{staticClass:"card-img-top",attrs:{src:t.img,alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v(e._s(t.name))]),a("p",{staticClass:"card-text"},[e._v(e._s(t.description))])]),a("hr"),a("div",{staticClass:"d-flex justify-content-around icon-bg py-2"},[a("i",{staticClass:"far fa-eye card-icon"},[e._v(": "+e._s(t.views))]),a("i",{staticClass:"fas fa-snowboarding card-icon"},[e._v(": "+e._s(t.keeps))]),a("i",{staticClass:"fas fa-share-alt-square card-icon"},[e._v(": "+e._s(t.shares))])])])}))])]),e.user.id?a("i",{staticClass:"fas fa-4x fa-plus-square",on:{click:function(t){e.showVaultsModal=!0}}}):e._e(),a("transition",{attrs:{name:"modal"}},[e.showVaultsModal?a("CreateKeep",{on:{closemodal:e.closemodal}}):e._e(),e.showKeepModal?a("Keep",{attrs:{chosenKeep:e.chosenKeep},on:{closemodal:e.closemodal}}):e._e()],1)],1)},p=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CreateKeep"},[e.createVaultForm?e._e():a("modal",{on:{closemodal:function(t){e.$emit("closemodal")}}},[a("span",{attrs:{slot:"header"},slot:"header"},[e._v("Create a New Keep\n      "),a("hr"),a("button",{staticClass:"my-btn-switch",on:{click:function(t){e.createVaultForm=!0}}},[e._v("Create a vault")])]),a("span",{attrs:{slot:"content"},slot:"content"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createKeep(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"keepName"}},[e._v("Keep Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.name,expression:"newKeep.name"}],staticClass:"form-control",attrs:{type:"text",id:"keepName",placeholder:"Keep Name"},domProps:{value:e.newKeep.name},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"name",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"vaultDescription"}},[e._v("Keep Description")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.description,expression:"newKeep.description"}],staticClass:"form-control",attrs:{type:"text",id:"keepDescription",placeholder:"Keep Description"},domProps:{value:e.newKeep.description},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"description",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"vaultImage"}},[e._v("Keep Image")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.img,expression:"newKeep.img"}],staticClass:"form-control",attrs:{type:"text",id:"keepImage",placeholder:"Upload an Image URL"},domProps:{value:e.newKeep.img},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"img",t.target.value)}}})]),a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"private"},on:{click:e.flipPrivate}}),a("label",{staticClass:"form-check-label",attrs:{for:"private"}},[e._v("Mark as Private")])]),a("button",{staticClass:"my-btn-submit mt-2",attrs:{type:"submit"},on:{click:function(t){e.$emit("closemodal")}}},[e._v("Create Keep")])])])]),e.createVaultForm?a("modal",{on:{closemodal:function(t){e.$emit("closemodal")}}},[a("span",{attrs:{slot:"header"},slot:"header"},[e._v("Create a Vault\n      "),a("hr"),a("button",{staticClass:"my-btn-switch",on:{click:function(t){e.createVaultForm=!1}}},[e._v("Create Keep")])]),a("span",{attrs:{slot:"content"},slot:"content"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createVault(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"vaultName"}},[e._v("Vault Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.name,expression:"newVault.name"}],staticClass:"form-control",attrs:{type:"text",id:"vaultName",placeholder:"Vault Name"},domProps:{value:e.newVault.name},on:{input:function(t){t.target.composing||e.$set(e.newVault,"name",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"vaultDescription"}},[e._v("Vault Description")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.description,expression:"newVault.description"}],staticClass:"form-control",attrs:{type:"text",id:"vaultDescription",placeholder:"Vault Description"},domProps:{value:e.newVault.description},on:{input:function(t){t.target.composing||e.$set(e.newVault,"description",t.target.value)}}})]),a("button",{staticClass:"my-btn-submit mt-2",attrs:{type:"submit"}},[e._v("Create Vault")])])]),a("span",{attrs:{slot:"icon"},slot:"icon"},[a("i",{staticClass:"fas fa-3x fa-undo-alt",on:{click:function(t){e.showEditForm=!1}}})])]):e._e()],1)},v=[],h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-modal-backdrop"},[a("div",{staticClass:"my-modal"},[a("header",{staticClass:"my-modal-header"},[e._t("header",[e._v("\n        This is the default tile!\n\n      ")])],2),a("section",{staticClass:"my-modal-body"},[e._t("content",[e._v("\n        I'm the default body!\n      ")])],2),a("footer",{staticClass:"my-modal-footer"},[a("button",{staticClass:"my-btn-green",attrs:{type:"button"},on:{click:e.close}},[e._v("\n        Close me!\n      ")])])])])},f=[],g={name:"Modal",props:[],data(){return{}},computed:{},methods:{close(){this.$emit("closemodal")}},components:{}},K=g,_=(a("0d0c"),Object(r["a"])(K,h,f,!1,null,"7d86dcea",null));_.options.__file="Modal.vue";var b=_.exports,C={name:"CreateKeep",props:[],data(){return{newKeep:{name:"",description:"",img:"",userId:this.$store.state.user.id,isPrivate:!1},createVaultForm:!1,newVault:{name:"",description:""}}},computed:{},methods:{createKeep(){this.$store.dispatch("createKeep",this.newKeep)},createVault(){this.$store.dispatch("createVault",this.newVault),this.showEditForm=!1},flipPrivate(){this.newKeep.isPrivate?this.newKeep.isPrivate=!1:this.newKeep.isPrivate=!0,console.log(this.newKeep.isPrivate)}},components:{Modal:b}},w=C,V=(a("c447"),Object(r["a"])(w,m,v,!1,null,"46c4b12d",null));V.options.__file="CreateKeepModal.vue";var $=V.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar px-0 py-0 mb-2"},[a("nav",{staticClass:"navbar navbar-expand-lg"},[a("h2",{staticClass:"my-brand",on:{click:e.goHome}},[e._v("Keepr")]),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item active"},[a("a",{staticClass:"nav-link",on:{click:e.goHome}},[e._v("Home"),a("span",{staticClass:"sr-only"},[e._v("(current)")])])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",on:{click:e.showModal}},[e._v("My Vaults")])]),e.user.id?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",on:{click:e.goToDash}},[e._v("Dashboard")])]):e._e(),a("li",{staticClass:"nav-item"},[e.user.id?a("a",{staticClass:"nav-link",on:{click:e.logout}},[e._v("Logout")]):e._e(),e.user.id?e._e():a("a",{staticClass:"nav-link",on:{click:e.login}},[e._v("Login")])])])])]),a("transition",{attrs:{name:"modal"}},[e.isModalVisible?a("AllVaultModal",{on:{closemodal:e.closemodal}}):e._e()],1),a("transition",{attrs:{name:"modal"}},[e.userLogin?a("LoginModal",{on:{closemodal:e.closemodal}}):e._e()],1)],1)},y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("i",{staticClass:"fas fa-hamburger fa-2x"})])}],x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"allVaultModal"},[e.showEditForm?e._e():a("modal",{on:{closemodal:function(t){e.$emit("closemodal")}}},[a("span",{attrs:{slot:"header"},slot:"header"},[e._v("Your Vaults")]),a("span",{attrs:{slot:"content"},slot:"content"},[0==e.vaults.length?a("div",[e._v("Create a Vault!")]):e._e(),a("allVaults")],1),a("span",{attrs:{slot:"icon"},slot:"icon"},[a("i",{staticClass:"fas fa-plus-square fa-3x",on:{click:function(t){e.showEditForm=!0}}})])])],1)},M=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AllVaults"},[a("div",{staticClass:"row"},e._l(e.allVaults,function(t){return a("div",{staticClass:"card col-sm-12 col-md-3 mx-1 my-2"},[a("div",{staticClass:"d-flex justify-content-between mx-2"},[a("i",{staticClass:"far fa-eye",attrs:{"data-dismiss":"modal"},on:{click:function(a){e.goToVault(t.id)}}}),a("i",{staticClass:"fas fa-times",on:{click:function(a){e.deleteVault(t.id)}}})]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v(e._s(t.name))]),a("p",{staticClass:"card-text"},[e._v(e._s(t.description))])])])}))])},N=[],U={name:"AllVaults",props:[],mounted(){this.$store.dispatch("getVaults")},data(){return{}},computed:{allVaults(){return this.$store.state.vaults}},methods:{goToVault(e){this.$router.push({name:"vault",params:{vaultId:e}})},deleteVault(e){this.$store.dispatch("deleteVault",e)}},components:{}},I=U,E=(a("4fdd"),Object(r["a"])(I,P,N,!1,null,"4a3baa88",null));E.options.__file="AllVaults.vue";var j=E.exports,A={name:"allVaultModal",props:[],data(){return{showEditForm:!1}},watch:{$route:function(e,t){this.$emit("closemodal")}},updated(){},computed:{vaults(){return this.$store.state.vaults}},methods:{},components:{AllVaults:j,Modal:b}},D=A,O=(a("0e6a"),Object(r["a"])(D,x,M,!1,null,null,null));O.options.__file="AllVaultModal.vue";var L=O.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-modal"},[a("modal",{on:{closemodal:function(t){e.$emit("closemodal")}}},[a("span",{attrs:{slot:"header"},slot:"header"},[e._v("Login!")]),a("span",{attrs:{slot:"content"},slot:"content"},[e.loginForm?a("form",{on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.email,expression:"creds.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.creds.email},on:{input:function(t){t.target.composing||e.$set(e.creds,"email",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.password,expression:"creds.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.creds.password},on:{input:function(t){t.target.composing||e.$set(e.creds,"password",t.target.value)}}}),a("button",{attrs:{type:"submit"}},[e._v("Login")])]):a("form",{on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.username,expression:"newUser.username"}],attrs:{type:"text",placeholder:"name"},domProps:{value:e.newUser.username},on:{input:function(t){t.target.composing||e.$set(e.newUser,"username",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),a("button",{attrs:{type:"submit"}},[e._v("Create Account")])]),a("div",{on:{click:function(t){e.loginForm=!e.loginForm}}},[e.loginForm?a("p",[e._v("No account Click to Register")]):a("p",[e._v("Already have an account click to Login")])])])])],1)},T=[],S={name:"login",mounted(){},data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",username:""}}},methods:{register(){this.$store.dispatch("register",this.newUser),this.$emit("closemodal")},loginUser(){this.$store.dispatch("login",this.creds),this.$emit("closemodal")}},components:{Modal:b}},q=S,H=Object(r["a"])(q,F,T,!1,null,null,null);H.options.__file="LoginModal.vue";var R=H.exports,Y={name:"navbar",props:[],mounted(){this.$store.dispatch("authenticate")},data(){return{isModalVisible:!1,userLogin:!1}},computed:{user(){return this.$store.state.user}},methods:{showModal(){this.user.id?this.isModalVisible=!0:alert("sign in to create and view vaults")},closemodal(){this.isModalVisible=!1,this.userLogin=!1},goToDash(){this.$router.push({name:"dashboard"})},logout(){this.$store.state.userKeeps=[],this.$store.state.vaults=[],this.$store.state.activeKeep={},this.$store.state.activeVault={},this.$store.state.vaultKeeps=[],this.$store.dispatch("logout")},login(){this.userLogin=!0},goHome(){this.$router.push({name:"home"})}},components:{AllVaultModal:L,Modal:b,LoginModal:R}},B=Y,J=(a("5e5b"),Object(r["a"])(B,k,y,!1,null,"6b143260",null));J.options.__file="Navbar.vue";var z=J.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Keep"},[e.currentKeep?a("modal",{on:{closemodal:function(t){e.$emit("closemodal")}}},[a("span",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.currentKeep.name)+"\n      "),a("hr"),e._v("\n      "+e._s(e.currentKeep.description)+"\n    ")]),a("span",{attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"text-center mx-5 mb-2"},[a("div",{staticClass:"card-body"},[a("img",{attrs:{src:e.currentKeep.img,alt:""}})]),a("hr"),this.$store.state.user.id?a("div",[a("div",{staticClass:"d-flex justify-content-between"},[a("i",{staticClass:"fas fa-plus-square"}),e.currentKeep.userId==e.user.id?a("i",{staticClass:"far fa-trash-alt",on:{click:function(t){e.deleteKeep(e.currentKeep.id)}}}):e._e(),a("i",{staticClass:"fas fa-piggy-bank",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}}),a("div",{staticClass:"dropdown-menu"},[e._l(e.vaults,function(t){return a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){e.addVaultKeep(e.chosenKeep,t.id)}}},[e._v(e._s(t.name))])}),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Nevermind!")])],2)])]):e._e()])])]):e._e()],1)},G=[],Q={name:"Keep",props:["chosenKeep"],data(){return{}},created(){this.$store.dispatch("getActiveKeep",this.chosenKeep.id),this.$store.dispatch("getVaults")},updated(){},destroyed(){this.$store.dispatch("getActiveKeep",""),this.currentKeep.views++,this.$store.dispatch("editKeep",this.currentKeep)},computed:{currentKeep(){return this.$store.state.activeKeep},vaults(){return this.$store.state.vaults},user(){return this.$store.state.user}},methods:{addVaultKeep(e,t){e.keeps++,this.$store.dispatch("editKeep",e),e.vaultId=t,this.$store.dispatch("createVaultKeep",{keepId:e.id,vaultId:t}),this.$emit("closemodal")},deleteKeep(e){this.$store.dispatch("deleteKeep",e),this.$store.dispatch("getKeeps"),this.$emit("closemodal")}},components:{Modal:b}},X=Q,Z=(a("4ac1"),Object(r["a"])(X,W,G,!1,null,"42eb8b1b",null));Z.options.__file="KeepModal.vue";var ee=Z.exports,te={name:"home",data(){return{showVaultsModal:!1,showKeepModal:!1,clickableCard:!1,chosenKeep:{}}},mounted(){this.$store.state.user.id||this.$router.push({name:"home"}),this.$store.dispatch("getKeeps")},methods:{viewKeep(e){this.showKeepModal=!0,this.chosenKeep=e},closemodal(){this.showVaultsModal=!1,this.showKeepModal=!1}},computed:{keeps(){return this.$store.state.keeps},user(){return this.$store.state.user}},components:{Navbar:z,CreateKeep:$,Modal:b,Keep:ee}},ae=te,se=(a("494f"),Object(r["a"])(ae,u,p,!1,null,"6cac4690",null));se.options.__file="Home.vue";var ie=se.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Vault"},[a("navbar"),a("div",{staticClass:"container"},[e.currentVault?a("h1",{staticClass:"header"},[e._v("You're in "+e._s(e.currentVault.name))]):e._e(),e.currentVault?a("h4",{staticClass:"sub-titles"},[e._v(e._s(e.currentVault.description))]):e._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"card-columns"},e._l(e.vaultKeeps,function(t){return a("div",{staticClass:"card"},[a("i",{staticClass:"fas fa-times mb-2",on:{click:function(a){a.stopPropagation(),e.deleteVaultKeep(t.id)}}}),a("img",{staticClass:"card-img-top",attrs:{src:t.img,alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v(e._s(t.name))]),a("p",{staticClass:"card-text"},[e._v(e._s(t.description))])])])}))])])],1)},re=[],ne=a("2f62"),le=a("bc3a"),ce=a.n(le);s["a"].use(ne["a"]);let de=location.host.includes("localhost")?"//localhost:5000/":"/",ue=ce.a.create({baseURL:de+"account/",timeout:3e3,withCredentials:!0}),pe=ce.a.create({baseURL:de+"api/",timeout:3e3,withCredentials:!0});var me=new ne["a"].Store({state:{user:{},keeps:[],userKeeps:[],activeKeep:{},vaults:[],activeVault:{},vaultKeeps:[]},mutations:{setUser(e,t){e.user=t},setKeeps(e,t){e.keeps=t},setActiveKeep(e,t){e.activeKeep=t},setUserKeeps(e,t){e.userKeeps=t},setVaults(e,t){e.vaults=t},setActiveVault(e,t){e.activeVault=t},setVaultKeeps(e,t){e.vaultKeeps=t}},actions:{register({commit:e,dispatch:t},a){ue.post("register",a).then(t=>{e("setUser",t.data),$e.push({name:"home"})}).catch(e=>{console.log("[registration failed] :",e)})},authenticate({commit:e,dispatch:t}){ue.get("authenticate").then(t=>{e("setUser",t.data)}).catch(e=>{$e.push({name:"home"}),console.log("not authenticated")})},login({commit:e,dispatch:t},a){ue.post("login",a).then(t=>{e("setUser",t.data),$e.push({name:"home"})}).catch(e=>{console.log("Login Failed")})},logout({commit:e,dispatch:t}){ue.delete("logout").then(t=>{e("setUser",""),$e.push({name:"home"})})},getKeeps({commit:e,dispatch:t}){pe.get("keeps").then(t=>{e("setKeeps",t.data)})},getKeepsByUser({commit:e,dispatch:t}){pe.get("keeps/dashboard").then(t=>{e("setUserKeeps",t.data)})},getActiveKeep({commit:e,dispatch:t},a){pe.get("keeps/"+a).then(t=>{e("setActiveKeep",t.data)})},createKeep({commit:e,dispatch:t},a){pe.post("keeps",a).then(e=>{t("getKeeps")})},editKeep({commit:e,dispatch:t},a){pe.put("keeps/"+a.id,a).then(e=>{t("getKeeps")})},deleteKeep({commit:e,dispatch:t},a){pe.delete("keeps/"+a).then(e=>{t("getKeeps")})},getVaults({commit:e,dispatch:t}){pe.get("vaults").then(t=>{e("setVaults",t.data)})},getActiveVault({commit:e,dispatch:t},a){pe.get("vaults/"+a).then(t=>{e("setActiveVault",t.data)})},createVault({commit:e,dispatch:t},a){pe.post("vaults",a).then(e=>{t("getVaults")})},deleteVault({commit:e,dispatch:t},a){pe.delete("vaults/"+a).then(e=>{t("getVaults")})},createVaultKeep({commit:e,dispatch:t},a){pe.post("vaults/vaultKeep.vaultId",a).then(e=>{t("getVaultKeeps",a.vaultId)})},getVaultKeeps({commit:e,dispatch:t},a){pe.get("vaults/"+a+"/keeps").then(t=>{e("setVaultKeeps",t.data)})},deleteVaultKeep({commit:e,dispatch:t},a){pe.delete("vaults/"+a.vaultId+"/keeps/"+a.keepId).then(e=>{t("getVaultKeeps",a.vaultId)})}}}),ve={name:"Vault",props:[],created(){this.$store.dispatch("getActiveVault",this.$route.params.vaultId),this.$store.dispatch("getVaultKeeps",this.$route.params.vaultId)},watch:{$route:function(e,t){this.$store.dispatch("getActiveVault",this.$route.params.vaultId),this.$store.dispatch("getVaultKeeps",this.$route.params.vaultId)}},data(){return{}},computed:{currentVault(){return this.$store.state.activeVault},vaultKeeps(){return this.$store.state.vaultKeeps}},methods:{deleteVaultKeep(e){this.$store.dispatch("deleteVaultKeep",{keepId:e,vaultId:this.currentVault.id})}},components:{Navbar:z}},he=ve,fe=(a("9b01"),Object(r["a"])(he,oe,re,!1,null,"5654c3c4",null));fe.options.__file="Vault.vue";var ge=fe.exports,Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[a("navbar"),a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 myKeeps"},[a("h2",{staticClass:"sub-title text-left"},[e._v("Your Keeps")]),a("hr"),a("div",{staticClass:"row"},e._l(e.keeps,function(t){return a("div",{staticClass:"card col-sm-12 col-lg-5 my-2 mx-1",on:{click:function(a){e.showOneKeep(t)}}},[a("div",{staticClass:"d-flex justify-content-around mt-1"},[a("i",{staticClass:"fas fa-times mb-2",on:{click:function(a){a.stopPropagation(),e.deleteKeep(t.id)}}}),a("i",{staticClass:"far fa-edit",on:{click:function(a){a.stopPropagation(),e.showEditModal(t)}}}),t.isPrivate?a("i",{staticClass:"fas fa-user-secret"}):e._e()]),a("img",{staticClass:"card-img-top",attrs:{src:t.img,alt:"Card image cap"}}),a("div",{},[a("h5",{staticClass:"card-title"},[e._v(e._s(t.name))]),a("p",{staticClass:"card-text"},[e._v(e._s(t.description))]),a("div",{staticClass:"d-flex justify-content-around icon-bg py-2"},[a("i",{staticClass:"far fa-eye card-icon"},[e._v(": "+e._s(t.views))]),a("i",{staticClass:"fas fa-snowboarding card-icon"},[e._v(": "+e._s(t.keeps))]),a("i",{staticClass:"fas fa-share-alt-square card-icon"},[e._v(": "+e._s(t.shares))])])])])}))]),a("div",{staticClass:"col-6 myVaults"},[a("h2",{staticClass:"sub-title text-left"},[e._v("Your Vaults")]),a("hr"),a("AllVaults")],1)])]),a("transition",{attrs:{name:"modal"}},[e.showEdit?a("modal",{on:{closemodal:e.closemodal}},[a("span",{attrs:{slot:"header"},slot:"header"},[e._v("\n        Edit this keep\n      ")]),a("span",{attrs:{slot:"content"},slot:"content"},[a("form",{on:{submit:function(t){t.preventDefault(),e.editKeep(e.editedKeep)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"keepName"}},[e._v("Keep Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editedKeep.name,expression:"editedKeep.name"}],staticClass:"form-control",attrs:{type:"text",id:"keepName",placeholder:"Keep Name"},domProps:{value:e.editedKeep.name},on:{input:function(t){t.target.composing||e.$set(e.editedKeep,"name",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"vaultDescription"}},[e._v("Keep Description")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editedKeep.description,expression:"editedKeep.description"}],staticClass:"form-control",attrs:{type:"text",id:"keepDescription",placeholder:"Keep Description"},domProps:{value:e.editedKeep.description},on:{input:function(t){t.target.composing||e.$set(e.editedKeep,"description",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"vaultImage"}},[e._v("Keep Image")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editedKeep.img,expression:"editedKeep.img"}],staticClass:"form-control",attrs:{type:"text",id:"keepImage",placeholder:"Upload an Image URL"},domProps:{value:e.editedKeep.img},on:{input:function(t){t.target.composing||e.$set(e.editedKeep,"img",t.target.value)}}})]),a("div",{staticClass:"form-check"},[e.editedKeep.isPrivate?a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"private",checked:""},on:{click:e.flipPrivate}}):a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"private"},on:{click:e.flipPrivate}}),a("label",{staticClass:"form-check-label",attrs:{for:"private"}},[e._v("Mark as Private")])]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(t){e.$emit("closemodal")}}},[e._v("Submit Edit")])])])]):e._e()],1),a("transition",{attrs:{name:"modal"}},[e.showVaultsModal?a("CreateKeep",{on:{closemodal:e.closemodal}}):e._e(),e.showKeepModal?a("Keep",{attrs:{chosenKeep:e.chosenKeep},on:{closemodal:e.closemodal}}):e._e()],1),e.user.id?a("i",{staticClass:"fas fa-4x fa-plus-square",on:{click:function(t){e.showVaultsModal=!0}}}):e._e()],1)},_e=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("h1",{staticClass:"dash"},[e._v("Your Dashboard")])])])}],be={name:"dashboard",props:[],data(){return{showEdit:!1,showVaultsModal:!1,showKeepModal:!1,editedKeep:{name:"",description:"",img:"",userId:this.$store.state.user.id,isPrivate:!1},chosenKeep:{}}},created(){this.$store.dispatch("getKeepsByUser")},computed:{keeps(){return this.$store.state.userKeeps},user(){return this.$store.state.user}},methods:{deleteKeep(e){this.$store.dispatch("deleteKeep",e),this.$store.dispatch("getKeepsByUser",e)},showEditModal(e){this.editedKeep=e,this.showEdit=!0},flipPrivate(){this.editedKeep.isPrivate?this.editedKeep.isPrivate=!1:this.editedKeep.isPrivate=!0,console.log(this.editedKeep.isPrivate)},editKeep(e){this.$store.dispatch("editKeep",e)},showOneKeep(e){this.chosenKeep=e,this.showKeepModal=!0},closemodal(){this.showKeepModal=!1,this.showVaultsModal=!1,this.showEdit=!1,this.editedKeep={}}},components:{Navbar:z,AllVaults:j,Modal:b,CreateKeep:$,Keep:ee}},Ce=be,we=(a("16d8"),Object(r["a"])(Ce,Ke,_e,!1,null,"0eaca904",null));we.options.__file="Dashboard.vue";var Ve=we.exports;s["a"].use(d["a"]);var $e=new d["a"]({routes:[{path:"/",name:"home",component:ie},{path:"/dashboard/vaults/:vaultId",name:"vault",component:ge,props:!0},{path:"/dashboard",name:"dashboard",component:Ve,props:!0}]});s["a"].config.productionTip=!1,new s["a"]({router:$e,store:me,render:e=>e(c)}).$mount("#app")},"5e5b":function(e,t,a){"use strict";var s=a("019f"),i=a.n(s);i.a},8444:function(e,t,a){},"9b01":function(e,t,a){"use strict";var s=a("a2c5"),i=a.n(s);i.a},a2c5:function(e,t,a){},c21b:function(e,t,a){},c447:function(e,t,a){"use strict";var s=a("c9ca"),i=a.n(s);i.a},c9ca:function(e,t,a){},ca19:function(e,t,a){},d2ab:function(e,t,a){},e4cc:function(e,t,a){}});
//# sourceMappingURL=app.38a3dd2f.js.map